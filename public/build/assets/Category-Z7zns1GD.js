import{t as B,r as n,a as O,e as m,f as c,g as d,j as r,k as _,F as w,i as e,M as y,N as f,q as C,l as D,u as k,E as U,P as j,v as b}from"./app-CJCNr1XW.js";import{_ as $}from"./Modal-v9WD5ttc.js";const q={class:"flex items-center justify-between p-5 bg-secondary"},E=e("div",{class:"flex items-center"},[e("h2",{class:"text-xl py-5 px-3"},"Project Categories")],-1),F=e("label",{for:"table-search",class:"sr-only"},"Search",-1),I={class:"relative mt-1"},P=e("div",{class:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),R={class:"relative overflow-x-auto bg-secondary"},T={class:"w-full text-left rtl:text-right"},Z=e("thead",{class:"text-white uppercase bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," name "),e("th",{scope:"col",class:"px-6 py-3"}," slug "),e("th",{scope:"col",class:"px-6 py-3"}," Order Number "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),z={class:"border-b border-gray-500 hover:bg-gray-600"},G={class:"px-6 py-4 text-lg text-white"},H={class:"px-6 py-4 text-lg"},J={class:"px-6 py-4"},K={class:"px-6 py-4"},Q={class:"flex gap-3"},W=["onClick"],X={key:0,class:"w-full h-52 flex items-center justify-center"},Y={class:"flex flex-wrap pt-5"},ee={class:"w-full mb-4"},te=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Category Name",-1),se={class:"w-full mb-4"},oe=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Order Number",-1),de={__name:"Category",setup(ae){const{loading:g,error:le,sendRequest:i}=B(),h=n(null),u=async()=>{const s=await i({method:"get",url:"/v1/project-category"});s&&(h.value=s.data)},o=n({name:null,order_number:null}),N=async()=>{await i({method:"post",url:"/v1/project-category",data:o.value})&&(j.success("Category Added Successfully",{autoClose:500,theme:"dark"}),await u(),x())},L=async s=>{await i({method:"delete",url:`/v1/project-category/${s}`})&&(j.success("Category Deleted Successfully",{autoClose:500,theme:"dark"}),await u())},M=()=>{o.value.name=null,o.value.order_number=null},p=n(!1);n(!1);const S=()=>{p.value=!0},x=()=>{p.value=!1,M()};return O(()=>{u()}),(s,a)=>{const v=m("Icon"),V=m("LoadingButton"),A=m("AppLayout");return c(),d(w,null,[r(A,null,{default:_(()=>{var l;return[e("div",q,[e("div",null,[E,e("div",null,[F,e("div",I,[P,y(e("input",{type:"text",id:"table-search","onUpdate:modelValue":a[0]||(a[0]=t=>s.search=t),class:"w-80 rounded block pt-2 ps-10 text-sm border border-gray-500 bg-transparent focus:ring-primary focus:border-primary text-gray-300 shadow",placeholder:"Search for items"},null,512),[[f,s.search]])])])]),e("button",{onClick:S,class:"flex items-center justify-center gap-2 bg-primary px-3 py-2 text-white text-sm font-medium"},[r(v,{name:"streamline:interface-add-circle-button-remove-cross-add-buttons-plus-circle",class:"text-sm shadow-lg border-primary"}),C(" Add Record ")])]),e("div",R,[e("table",T,[Z,e("tbody",null,[(c(!0),d(w,null,D((l=h.value)==null?void 0:l.data,t=>(c(),d("tr",z,[e("td",G,b(t==null?void 0:t.name),1),e("td",H,b(t==null?void 0:t.slug),1),e("td",J,b(t==null?void 0:t.order_number),1),e("td",K,[e("div",Q,[e("button",{onClick:re=>L(t.id)},[r(v,{name:"material-symbols:delete-outline-rounded",class:"text-red-500 text-2xl"})],8,W)])])]))),256))])]),k(g)?(c(),d("div",X,[e("div",null,[r(V,{isLoading:k(g)},{default:_(()=>[C("Loading")]),_:1},8,["isLoading"])])])):U("",!0)])]}),_:1}),r($,{title:"Create New Category",isOpen:p.value,onModalClose:x},{default:_(()=>[e("div",Y,[e("div",ee,[te,y(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>o.value.name=l),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[f,o.value.name]])]),e("div",se,[oe,y(e("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>o.value.order_number=l),type:"number",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[f,o.value.order_number]])]),e("div",{class:"w-full"},[e("button",{onClick:N,class:"w-full bg-primary py-2.5"},"Save Category")])])]),_:1},8,["isOpen"])],64)}}};export{de as default};
