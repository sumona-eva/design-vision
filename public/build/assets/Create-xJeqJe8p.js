import{t as f,Q as h,R as v,r as c,e as x,f as r,m as g,k as b,i as e,M as y,N as w,g as n,j as k,u as B,P as C}from"./app-CJCNr1XW.js";import{S}from"./SummernoteEditor-B--EspMn.js";const A={class:"p-4 bg-secondary shadow-md me-4"},V=e("h3",{class:"text-sm mb-5"},"Add New Blog",-1),R={class:"flex flex-wrap"},U={class:"w-1/2 flex flex-col gap-3 px-2"},j={class:"w-full px-2"},I=e("label",{for:"title",class:"text-xs mb-1"},"Blog Title",-1),L={class:"w-1/2 flex flex-col gap-4 px-2"},N={class:"flex"},P={class:"pr-2"},T=e("label",{for:"image",class:"text-xs block mb-1"},"Cover Image",-1),D={for:"cover_image",class:"w-52 h-36 flex items-center justify-center gap-3 p-2 border border-dashed border-primary rounded-md text-primary cursor-pointer"},E=["src"],M={key:1},q=e("p",{class:"text-xs"},"Upload Blog Image",-1),z=[q],O={class:"w-full px-2 editor mt-5"},Q=e("label",{for:"title",class:"text-sm mb-1 text-white py-3 block"},"Description",-1),$={class:"editor_data"},W={__name:"Create",setup(F){const{loading:G,error:H,sendRequest:i}=f(),d=h(),u=v(),a=c(null),m=o=>{const t=o.target.files[0];s.value.image=t,a.value=URL.createObjectURL(t)},s=c({title:null,image:null,content:null}),p=async()=>{const o=await i({method:"post",url:"/v1/blog",data:s.value,headers:{authorization:`Bearer ${d.user.token}`,"Content-Type":"multipart/form-data"}});o!=null&&o.data&&(C.success(" Product Added Successfully",{autoclose:1e3,theme:"dark"}),await u.push("/admin/blog"))};return(o,t)=>{const _=x("AppLayout");return r(),g(_,null,{default:b(()=>[e("div",A,[V,e("div",R,[e("div",U,[e("div",j,[I,y(e("input",{type:"text",class:"bg-transparent p-2 border border-primary w-full rounded","onUpdate:modelValue":t[0]||(t[0]=l=>s.value.title=l)},null,512),[[w,s.value.title]])])]),e("div",L,[e("div",N,[e("div",P,[T,e("label",D,[e("input",{type:"file",id:"cover_image",hidden:"",onChange:m},null,32),a.value?(r(),n("img",{key:0,src:a.value,class:"w-full h-full object-cover"},null,8,E)):(r(),n("div",M,z))])])])]),e("div",O,[Q,e("div",$,[k(B(S),{modelValue:s.value.content,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.content=l)},null,8,["modelValue"])])])])]),e("div",{class:"text-center pt-10"},[e("button",{class:"w-1/2 mx-auto bg-primary py-3",onClick:p},"Save Post")])]),_:1})}}};export{W as default};
