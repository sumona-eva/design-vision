import{t as U,r,a as V,e as x,f as n,g as c,j as i,k as y,F as g,i as e,M as u,N as p,q as P,l as L,P as w,v as k}from"./app-CJCNr1XW.js";import{_ as O}from"./Modal-v9WD5ttc.js";const T={class:"flex items-center justify-between p-5 bg-secondary"},B=e("div",{class:"flex items-center"},[e("h2",{class:"text-xl py-5 px-3"},"Team Members")],-1),D=e("label",{for:"table-search",class:"sr-only"},"Search",-1),R={class:"relative mt-1"},F=e("div",{class:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),I={class:"relative overflow-x-auto bg-secondary"},$={class:"w-full text-left rtl:text-right"},q=e("thead",{class:"text-white uppercase bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Photo "),e("th",{scope:"col",class:"px-6 py-3"}," name "),e("th",{scope:"col",class:"px-6 py-3"}," Position "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),E={class:"border-b border-gray-500 hover:bg-gray-600"},Z={class:"p-2"},z=["src"],G={class:"px-6 py-4 text-sm"},H={class:"px-6 py-4"},J={class:"px-6 py-4"},K={class:"flex gap-3"},Q=["onClick"],W={class:"flex flex-wrap pt-5"},X={class:"w-full mb-4"},Y=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Member Name",-1),ee={class:"w-full mb-4"},se=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Member Position",-1),te={class:"w-full mb-4"},oe=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Order Number",-1),le={class:"w-full mb-4"},ae=e("label",{for:"image",class:"text-xs block mb-1"},"Member Photo",-1),re={for:"cover_image",class:"w-36 h-36 flex items-center justify-center gap-3 p-2 border border-dashed border-primary rounded-md text-primary cursor-pointer"},ne=["src"],ce={key:1},de=e("p",{class:"text-xs"},"Upload Member Photo",-1),ie=[de],fe={__name:"Index",setup(ue){const{loading:pe,error:me,sendRequest:m}=U(),h=r(null),b=async()=>{const l=await m({method:"get",url:"/v1/team-member"});l&&(h.value=l.data)},d=r(null),M=l=>{const t=l.target.files[0];s.value.photo=t,d.value=URL.createObjectURL(t)},s=r({name:null,photo:null,position:null,order_number:null}),C=async()=>{await m({method:"post",url:"/v1/team-member",data:s.value,headers:{"Content-Type":"multipart/form-data"}})&&(w.success("A New Team Member Added Successfully",{autoClose:500,theme:"dark"}),await b(),f())},A=async l=>{await m({method:"delete",url:`/v1/team-member/${l}`})&&(w.success("A Member Deleted Successfully",{autoClose:500,theme:"dark"}),await b())},N=()=>{s.value.name=null,s.value.position=null,s.value.order_number=null,s.value.photo=null,d.value=null},_=r(!1);r(!1);const j=()=>{_.value=!0},f=()=>{_.value=!1,N()};return V(()=>{b()}),(l,t)=>{const v=x("Icon"),S=x("AppLayout");return n(),c(g,null,[i(S,null,{default:y(()=>{var a;return[e("div",T,[e("div",null,[B,e("div",null,[D,e("div",R,[F,u(e("input",{type:"text",id:"table-search","onUpdate:modelValue":t[0]||(t[0]=o=>l.search=o),class:"w-80 rounded block pt-2 ps-10 text-sm border border-gray-500 bg-transparent focus:ring-primary focus:border-primary text-gray-300 shadow",placeholder:"Search for items"},null,512),[[p,l.search]])])])]),e("button",{onClick:j,class:"flex items-center justify-center gap-2 bg-primary px-3 py-2 text-white text-sm font-medium"},[i(v,{name:"streamline:interface-add-circle-button-remove-cross-add-buttons-plus-circle",class:"text-sm shadow-lg border-primary"}),P(" Add Record ")])]),e("div",I,[e("table",$,[q,e("tbody",null,[(n(!0),c(g,null,L((a=h.value)==null?void 0:a.data,o=>(n(),c("tr",E,[e("td",Z,[e("img",{class:"w-20 h-20",src:o==null?void 0:o.photo,alt:""},null,8,z)]),e("td",G,k(o==null?void 0:o.name),1),e("td",H,k(o==null?void 0:o.position),1),e("td",J,[e("div",K,[e("button",{onClick:be=>A(o.id)},[i(v,{name:"material-symbols:delete-outline-rounded",class:"text-red-500 text-2xl"})],8,Q)])])]))),256))])])])]}),_:1}),i(O,{title:"Create New Category",isOpen:_.value,onModalClose:f},{default:y(()=>[e("div",W,[e("div",X,[Y,u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.value.name=a),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[p,s.value.name]])]),e("div",ee,[se,u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.position=a),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[p,s.value.position]])]),e("div",te,[oe,u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s.value.order_number=a),type:"number",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[p,s.value.order_number]])]),e("div",le,[e("div",null,[ae,e("label",re,[e("input",{type:"file",id:"cover_image",hidden:"",onChange:M},null,32),d.value?(n(),c("img",{key:0,src:d.value,class:"w-full h-full object-cover"},null,8,ne)):(n(),c("div",ce,ie))])])]),e("div",{class:"w-full"},[e("button",{onClick:C,class:"w-full bg-primary py-2.5"},"Save Member")])])]),_:1},8,["isOpen"])],64)}}};export{fe as default};
