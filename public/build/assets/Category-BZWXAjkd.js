import{u as T,r as d,o as q,a as x,b,e as _,j as n,w as f,F as j,i as e,E as c,G as u,k as N,f as F,g as U,h as I,H as h,t as w}from"./app-CmCiYzWS.js";import{_ as O}from"./Modal-Pl-1x9BV.js";const P={class:"flex items-center justify-between p-5 bg-white"},R=e("div",{class:"flex items-center"},[e("h2",{class:"text-xl py-5 px-3 font-semibold text-primary"},"Project Categories")],-1),G=e("label",{for:"table-search",class:"sr-only"},"Search",-1),H={class:"relative mt-1"},Z=e("div",{class:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),z={class:"relative overflow-x-auto bg-white"},J={class:"w-full text-left rtl:text-right"},K=e("thead",{class:"text-black uppercase bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," name "),e("th",{scope:"col",class:"px-6 py-3"}," slug "),e("th",{scope:"col",class:"px-6 py-3"}," Order Number "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),Q={class:"border-b border-gray-300 hover:bg-gray-200"},W={class:"px-6 py-4 text-lg"},X={class:"px-6 py-4 text-lg"},Y={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"flex gap-3"},se=["onClick"],oe=["onClick"],ae={key:0,class:"w-full h-52 flex items-center justify-center"},le={class:"flex flex-wrap pt-5"},re={class:"w-full mb-4"},ne=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Category Name",-1),de={class:"w-full mb-4"},ce=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Order Number",-1),ue={class:"flex flex-wrap pt-5"},ie={class:"w-full mb-4"},pe=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Category Name",-1),me={class:"w-full mb-4"},be=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Order Number",-1),_e={class:"w-full"},xe={__name:"Category",setup(fe){const{loading:C,error:ye,sendRequest:i}=T(),k=d(null),p=async()=>{const o=await i({method:"get",url:"/v1/project-category"});o&&(k.value=o.data)},l=d({name:null,order_number:null}),V=async()=>{await i({method:"post",url:"/v1/project-category",data:l.value})&&(h.success("Category Added Successfully",{autoClose:500,theme:"dark"}),await p(),m())},r=d(null),L=o=>{g.value=!0,r.value=o},M=async o=>{i({method:"post",url:`/v1/project-category/${o}`,params:{_method:"PUT"},data:r.value})&&(h.success("Category Update Succesfully",{autoClose:500,theme:"dark"}),p(),m())},S=async o=>{await i({method:"delete",url:`/v1/project-category/${o}`})&&(h.success("Category Deleted Successfully",{autoClose:500,theme:"dark"}),await p())},A=()=>{l.value.name=null,l.value.order_number=null},y=d(!1),g=d(!1),B=()=>{y.value=!0},m=()=>{y.value=!1,g.value=!1,A()};return q(()=>{p()}),(o,t)=>{const v=x("Icon"),$=x("LoadingButton"),D=x("AppLayout");return b(),_(j,null,[n(D,null,{default:f(()=>{var a;return[e("div",P,[e("div",null,[R,e("div",null,[G,e("div",H,[Z,c(e("input",{type:"text",id:"table-search","onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s),class:"w-80 rounded block pt-2 ps-10 text-sm border border-gray-500 bg-transparent focus:ring-primary focus:border-primary text-gray-300 shadow",placeholder:"Search for items"},null,512),[[u,o.search]])])])]),e("button",{onClick:B,class:"flex items-center justify-center gap-2 bg-primary px-3 py-2 text-white text-sm font-medium"},[n(v,{name:"streamline:interface-add-circle-button-remove-cross-add-buttons-plus-circle",class:"text-sm shadow-lg border-primary"}),N(" Add Record ")])]),e("div",z,[e("table",J,[K,e("tbody",null,[(b(!0),_(j,null,F((a=k.value)==null?void 0:a.data,s=>(b(),_("tr",Q,[e("td",W,w(s==null?void 0:s.name),1),e("td",X,w(s==null?void 0:s.slug),1),e("td",Y,w(s==null?void 0:s.order_number),1),e("td",ee,[e("div",te,[e("button",{onClick:E=>L(s)},[n(v,{name:"material-symbols:edit-square-outline",class:"text-green-500 text-2xl"})],8,se),e("button",{onClick:E=>S(s.id)},[n(v,{name:"material-symbols:delete-outline-rounded",class:"text-red-500 text-2xl"})],8,oe)])])]))),256))])]),U(C)?(b(),_("div",ae,[e("div",null,[n($,{isLoading:U(C)},{default:f(()=>[N("Loading")]),_:1},8,["isLoading"])])])):I("",!0)])]}),_:1}),n(O,{title:"Create New Category",isOpen:y.value,onModalClose:m},{default:f(()=>[e("div",le,[e("div",re,[ne,c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.name=a),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[u,l.value.name]])]),e("div",de,[ce,c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.order_number=a),type:"number",class:"p-2 rounded w-full"},null,512),[[u,l.value.order_number]])]),e("div",{class:"w-full"},[e("button",{onClick:V,class:"w-full bg-primary text-white py-2.5"},"Save Category")])])]),_:1},8,["isOpen"]),n(O,{title:"Update Category",isOpen:g.value,onModalClose:m},{default:f(()=>[e("div",ue,[e("div",ie,[pe,c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.value.name=a),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[u,r.value.name]])]),e("div",me,[be,c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.value.order_number=a),type:"number",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[u,r.value.order_number]])]),e("div",_e,[e("button",{onClick:t[5]||(t[5]=a=>M(r.value.id)),class:"w-full bg-primary py-2.5"},"Update Category")])])]),_:1},8,["isOpen"])],64)}}};export{xe as default};
