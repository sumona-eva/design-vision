import{t as y,Q as C,R as V,r as S,e as P,f as o,m as A,k as B,i as e,M as c,N as i,g as l,l as d,F as m,P as U,E as p}from"./app-CJCNr1XW.js";const N={class:"bg-secondary p-4"},T=e("h3",null,"Create new Package",-1),I={class:"max-w-xl"},L={class:"mb-6"},R=e("label",{for:"name",class:"block mb-1"},"Package Name",-1),$={class:"mb-6"},j=e("label",{class:"block mb-2"},"Sub Title",-1),E={class:"flex items-end gap-2"},F={class:"w-full"},M=e("label",{for:"company-title",class:"text-xs"},"Value",-1),q=["onUpdate:modelValue"],z={key:0},D=["onClick"],Q={class:"mb-6"},G=e("label",{class:"block mb-2"},"Package Items",-1),H={class:"flex items-end gap-2"},J={class:"w-full"},K=e("label",{for:"company-title",class:"text-xs"},"Value",-1),O=["onUpdate:modelValue"],W={key:0},X=["onClick"],se={__name:"Create",setup(Y){const{loading:Z,error:ee,sendRequest:_}=y(),v=C(),b=V(),h=()=>{t.value.sub_titles.push({value:null})},x=s=>t.value.sub_titles.splice(s,1),f=()=>{t.value.items.push({value:null})},g=s=>t.value.items.splice(s,1),t=S({name:null,sub_titles:[{value:null}],items:[{value:null}]}),k=async()=>{const s=await _({method:"post",url:"/v1/package",data:t.value,headers:{authorization:`Bearer ${v.user.token}`}});s!=null&&s.data&&(U.success("Package Added Successfully",{autoclose:1e3,theme:"dark"}),await b.push("/admin/package"))};return(s,r)=>{const w=P("AppLayout");return o(),A(w,null,{default:B(()=>[e("div",N,[T,e("div",I,[e("div",L,[R,c(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>t.value.name=a),type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,512),[[i,t.value.name]])]),e("div",$,[e("div",{class:"flex items-center justify-between"},[j,e("button",{onClick:h,class:"p-1 bg-primary text-sm text-nowrap rounded text-white"},"add more")]),(o(!0),l(m,null,d(t.value.sub_titles,(a,u)=>(o(),l("div",E,[e("div",F,[M,c(e("input",{"onUpdate:modelValue":n=>a.value=n,type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,8,q),[[i,a.value]])]),t.value.sub_titles.length>1?(o(),l("div",z,[e("button",{onClick:n=>x(u),class:"p-1 bg-primary text-sm text-nowrap rounded text-white"},"remove",8,D)])):p("",!0)]))),256))]),e("div",Q,[e("div",{class:"flex items-center justify-between"},[G,e("button",{onClick:f,class:"p-1 bg-primary text-sm text-nowrap rounded text-white"},"add more")]),(o(!0),l(m,null,d(t.value.items,(a,u)=>(o(),l("div",H,[e("div",J,[K,c(e("input",{"onUpdate:modelValue":n=>a.value=n,type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,8,O),[[i,a.value]])]),t.value.items.length>1?(o(),l("div",W,[e("button",{onClick:n=>g(u),class:"p-1 bg-primary text-sm text-nowrap rounded text-white"},"remove",8,X)])):p("",!0)]))),256))]),e("div",null,[e("button",{onClick:k,class:"bg-primary w-full py-2 text-white"},"Save Package")])])])]),_:1})}}};export{se as default};
