import{Q as y,t as k,r as w,a as S,e as _,f as a,m as V,k as A,i as e,M as l,N as r,g as c,l as C,F as U,P as N,j as h,E as B,q as I}from"./app-CJCNr1XW.js";const L={class:"flex flex-wrap p-4 bg-secondary"},M={class:"w-1/2 px-2"},E={class:"mb-2"},j=e("label",{for:"phone_number"},"Phone Number",-1),q={class:"w-1/2 px-2"},F={class:"mb-2"},P=e("label",{for:"phone_number"},"Email Addreess",-1),T={class:"w-1/2 px-2"},z=e("label",{for:"socials"},"Social Icon",-1),D={class:"mb-3 p-4 border border-gray-500 rounded relative"},G={class:"mb-3"},Q={class:"flex items-center gap-2"},R=e("label",{for:"icon"},"Icon",-1),$={href:"https://icones.js.org/collection/all",target:"_blank",class:"text-primary flex items-center gap-1"},H=["onUpdate:modelValue"],J=e("label",{for:"icon"},"Link",-1),K=["onUpdate:modelValue"],ee={__name:"Index",setup(O){const b=y(),{loading:W,error:X,sendRequest:d}=k(),u=async()=>{const t=await d({method:"get",url:"/v1/setting",headers:{authorization:`Bearer ${b.user.token}`}});s.value.phone_number=t.data.phone_number,s.value.email_address=t.data.email_address,s.value.socials=t.data.socials},f=()=>{s.value.socials.push({key:null,value:null})},v=t=>s.value.socials.splice(t,1),s=w({phone_number:[],email_address:[],socials:[{icon:null,link:null}]}),g=async()=>{await d({method:"post",url:"/v1/setting",data:s.value})&&(N.success("Setting Upadated Successfully",{autoClose:500,theme:"dark"}),u())};return S(()=>{u()}),(t,n)=>{const p=_("Icon"),x=_("AppLayout");return a(),V(x,null,{default:A(()=>[e("div",L,[e("div",M,[e("div",E,[j,l(e("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>s.value.phone_number=o),type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,512),[[r,s.value.phone_number]])])]),e("div",q,[e("div",F,[P,l(e("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>s.value.email_address=o),type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,512),[[r,s.value.email_address]])])]),e("div",T,[e("div",{class:"flex items-center gap-1"},[z,e("button",{onClick:f,class:"text-sm bg-primary rounded px-1"},"Add More")]),(a(!0),c(U,null,C(s.value.socials,(o,Y)=>{var m;return a(),c("div",D,[((m=s.value.socials)==null?void 0:m.length)>1?(a(),c("button",{key:0,class:"absolute top-1 right-1 bg-primary rounded",onClick:v},[h(p,{name:"material-symbols:close"})])):B("",!0),e("div",G,[e("div",Q,[R,e("a",$,[I("Get icon code form here "),h(p,{name:"mdi:share-outline"})])]),l(e("input",{"onUpdate:modelValue":i=>o.icon=i,type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,8,H),[[r,o.icon]])]),e("div",null,[J,l(e("input",{"onUpdate:modelValue":i=>o.link=i,type:"text",class:"w-full p-2 rounded bg-transparent border focus:outline-none focus:ring-primary"},null,8,K),[[r,o.link]])])])}),256))]),e("div",{class:"w-full px-2 text-center py-2"},[e("button",{onClick:g,class:"bg-primary text-white py-2 w-1/2"},"Save Setting")])])]),_:1})}}};export{ee as default};
