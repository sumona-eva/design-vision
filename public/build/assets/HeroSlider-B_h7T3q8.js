import{t as B,r as c,a as U,e as m,f as n,g as r,j as d,k as f,F as g,i as e,q as y,l as D,u as w,E as R,M as C,N as k,P as S,v as L}from"./app-CJCNr1XW.js";import{_ as F}from"./Modal-v9WD5ttc.js";const T={class:"flex items-center justify-between p-5 bg-secondary"},$=e("div",null,[e("div",{class:"flex items-center"},[e("h2",{class:"text-xl py-5 px-3"},"Slider")])],-1),q={class:"relative overflow-x-auto bg-secondary"},E={class:"w-full text-left rtl:text-right"},P=e("thead",{class:"text-white uppercase bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Image "),e("th",{scope:"col",class:"px-6 py-3"}," url "),e("th",{scope:"col",class:"px-6 py-3"}," Order Number "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),H={class:"border-b border-gray-500 hover:bg-gray-600"},z={class:"p-2"},G=["src"],J={class:"px-6 py-4 text-sm"},K={class:"px-6 py-4"},Q={class:"px-6 py-4"},W={class:"flex gap-3"},X=["onClick"],Y={key:0,class:"w-full h-52 flex items-center justify-center"},Z={class:"flex flex-wrap pt-5"},ee={class:"w-full mb-4"},se=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Slider url",-1),te={class:"w-full mb-4"},le=e("label",{for:"name",class:"block mb-1 text-xs font-normal"},"Order Number",-1),oe={class:"w-full mb-4"},ae=e("label",{for:"image",class:"text-xs block mb-1"},"Slider Image",-1),ne={for:"cover_image",class:"w-full h-36 flex items-center justify-center gap-3 p-2 border border-dashed border-primary rounded-md text-primary cursor-pointer"},re=["src"],ce={key:1},de=e("p",{class:"text-xs"},"Upload Product Cover Image",-1),ie=[de],be={__name:"HeroSlider",setup(ue){const{loading:b,error:pe,sendRequest:i}=B(),h=c(null),u=async()=>{const l=await i({method:"get",url:"/v1/slider"});l&&(h.value=l.data)},p=c(null),N=l=>{const o=l.target.files[0];t.value.image=o,p.value=URL.createObjectURL(o)},t=c({url:null,image:null,order_number:null}),j=async()=>{await i({method:"post",url:"/v1/slider",data:t.value,headers:{"Content-Type":"multipart/form-data"}})&&(S.success("Slider Added Successfully",{autoClose:500,theme:"dark"}),await u(),v())},M=async l=>{await i({method:"delete",url:`/v1/slider/${l}`})&&(S.success("Slider Deleted Successfully",{autoClose:500,theme:"dark"}),await u())},I=()=>{t.value.name=null,t.value.order_number=null},_=c(!1);c(!1);const O=()=>{_.value=!0},v=()=>{_.value=!1,I()};return U(()=>{u()}),(l,o)=>{const x=m("Icon"),V=m("LoadingButton"),A=m("AppLayout");return n(),r(g,null,[d(A,null,{default:f(()=>{var a;return[e("div",T,[$,e("button",{onClick:O,class:"flex items-center justify-center gap-2 bg-primary px-3 py-2 text-white text-sm font-medium"},[d(x,{name:"streamline:interface-add-circle-button-remove-cross-add-buttons-plus-circle",class:"text-sm shadow-lg border-primary"}),y(" Add Record ")])]),e("div",q,[e("table",E,[P,e("tbody",null,[(n(!0),r(g,null,D((a=h.value)==null?void 0:a.data,s=>(n(),r("tr",H,[e("td",z,[e("img",{class:"w-20 h-12",src:s==null?void 0:s.image,alt:""},null,8,G)]),e("td",J,L((s==null?void 0:s.url)??"Not given"),1),e("td",K,L(s==null?void 0:s.order_number),1),e("td",Q,[e("div",W,[e("button",{onClick:_e=>M(s.id)},[d(x,{name:"material-symbols:delete-outline-rounded",class:"text-red-500 text-2xl"})],8,X)])])]))),256))])]),w(b)?(n(),r("div",Y,[e("div",null,[d(V,{isLoading:w(b)},{default:f(()=>[y("Loading")]),_:1},8,["isLoading"])])])):R("",!0)])]}),_:1}),d(F,{title:"Create New Category",isOpen:_.value,onModalClose:v},{default:f(()=>[e("div",Z,[e("div",ee,[se,C(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.value.name=a),type:"text",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[k,t.value.name]])]),e("div",te,[le,C(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.value.order_number=a),type:"number",class:"p-2 rounded border border-primary w-full bg-transparent"},null,512),[[k,t.value.order_number]])]),e("div",oe,[e("div",null,[ae,e("label",ne,[e("input",{type:"file",id:"cover_image",hidden:"",onChange:N},null,32),p.value?(n(),r("img",{key:0,src:p.value,class:"w-full h-full object-cover"},null,8,re)):(n(),r("div",ce,ie))])])]),e("div",{class:"w-full"},[e("button",{onClick:j,class:"w-full bg-primary py-2.5"},"Save Category")])])]),_:1},8,["isOpen"])],64)}}};export{be as default};
